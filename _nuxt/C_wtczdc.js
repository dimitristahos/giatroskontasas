import{S as o,P as z,av as F,X as h,r as I,V as v}from"./HlQt-E_n.js";function y(n){return o()?(z(n),!0):!1}const x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const b=()=>{};function S(n,l){function t(...a){return new Promise((e,i)=>{Promise.resolve(n(()=>l.apply(this,a),{fn:l,thisArg:this,args:a})).then(e).catch(i)})}return t}function g(n,l={}){let t,a,e=b;const i=c=>{clearTimeout(c),e(),e=b};return c=>{const m=F(n),u=F(l.maxWait);return t&&i(t),m<=0||u!==void 0&&u<=0?(a&&(i(a),a=null),Promise.resolve(c())):new Promise((f,d)=>{e=l.rejectOnCancel?d:f,u&&!a&&(a=setTimeout(()=>{t&&i(t),a=null,f(c())},u)),t=setTimeout(()=>{a&&i(a),a=null,f(c())},m)})}}function T(n,l=200,t={}){return S(g(l,t),n)}const C=(n,l,t=!0)=>{const a=h("form-events",void 0),e=h("form-group",void 0),i=h("form-inputs",void 0);e&&(!t||n!=null&&n.legend?e.inputId.value=void 0:n!=null&&n.id&&(e.inputId.value=n==null?void 0:n.id),i&&(i.value[e.name.value]=e.inputId.value));const r=I(!1);function c(d,s){a&&a.emit({type:d,path:s})}function m(){c("blur",e==null?void 0:e.name.value),r.value=!0}function u(){c("change",e==null?void 0:e.name.value)}const f=T(()=>{(r.value||e!=null&&e.eagerValidation.value)&&c("input",e==null?void 0:e.name.value)},300);return{inputId:v(()=>(n==null?void 0:n.id)??(e==null?void 0:e.inputId.value)),name:v(()=>(n==null?void 0:n.name)??(e==null?void 0:e.name.value)),size:v(()=>{var s;const d=l.size[e==null?void 0:e.size.value]?e==null?void 0:e.size.value:null;return(n==null?void 0:n.size)??d??((s=l.default)==null?void 0:s.size)}),color:v(()=>{var d;return(d=e==null?void 0:e.error)!=null&&d.value?"red":n==null?void 0:n.color}),emitFormBlur:m,emitFormInput:f,emitFormChange:u}};export{x as i,y as t,C as u};
